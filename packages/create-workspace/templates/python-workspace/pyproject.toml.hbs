[tool.poetry]
name = "{{name}}"
version = "0.1.0"
description = ""
authors = ["Derek Worthen <worthend.derek@gmail.com>"]
readme = "README.md"

[tool.poetry.dependencies]
python = "^3.10"


[tool.poetry.group.dev.dependencies]
flake8 = "^6.0.0"
black[d] = "^23.1.0"
jupyter = "^1.0.0"
ipykernel = "^6.17.0"
mypy = "^0.990"
isort = "^5.11.4"
pytest = "^7.2.0"


[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"


[tool.black]
line-length = 120
target-version = ['py310']
include = '\.pyi?$'


[tool.poe.tasks]
# stop the build if there are Python syntax errors or undefined names
_flake8Errors = "flake8 ./{{name}} --count --select=E9,F63,F7,F82 --show-source --statistics"
_flake8Warnings = "flake8 ./{{name}} --count --exit-zero --statistics"
_black = 'black ./{{name}}'
_isort = 'isort ./{{name}}'
_black_check = 'black --check ./{{name}}'
_isort_check = 'isort --check ./{{name}}'


[tool.poe.tasks.format]
sequence = ['_black', '_isort']
ignore_fail = 'return_non_zero'


[tool.poe.tasks.format_check]
sequence = ['_black_check', '_isort_check']
ignore_fail = 'return_non_zero'


[tool.poe.tasks.lint]
sequence = ['_flake8Errors', '_flake8Warnings']
ignore_fail = 'return_non_zero'
